/*
Global styles and theme setup.
Uses CSS variables so light/dark mode can be toggled easily from JS.
*/

/* Light theme (default) */
:root {
--color-bg: #f5f7fb;
--color-surface: #ffffff;
--color-border: #e0e4f0;
--color-primary: #2563eb;
--color-primary-soft: #dbeafe;
--color-primary-dark: #1d4ed8;
--color-secondary: #10b981;
--color-danger: #ef4444;
--color-text: #111827;
--color-text-muted: #6b7280;
--shadow-soft: 0 10px 25px rgba(15, 23, 42, 0.08);
--radius-large: 18px;
--radius-medium: 10px;
--radius-small: 6px;
--transition-fast: 0.18s ease-out;
--font-main: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
sans-serif;
}

/* Dark theme overrides: applied when [data-theme="dark"] is on <body> */
body[data-theme="dark"] {
--color-bg: #020617;
--color-surface: #020617;
--color-border: #1f2937;
--color-primary: #60a5fa;
--color-primary-soft: #0b1120;
--color-primary-dark: #3b82f6;
--color-secondary: #22c55e;
--color-danger: #f97373;
--color-text: #e5e7eb;
--color-text-muted: #9ca3af;
--shadow-soft: 0 12px 30px rgba(15, 23, 42, 0.7);
}

/* Basic reset and typography */
*,
*::before,
*::after {
box-sizing: border-box;
}

html,
body {
margin: 0;
padding: 0;
}

body {
min-height: 100vh;
background: radial-gradient(circle at top, #e0f2fe, var(--color-bg));
color: var(--color-text);
font-family: var(--font-main);
line-height: 1.5;
transition: background var(--transition-fast), color var(--transition-fast);
}

/* Layout container */
.container {
max-width: 1120px;
margin: 0 auto;
padding: 1.5rem 1rem 3rem;
}

/* Header */
.app-header {
display: flex;
align-items: center;
justify-content: space-between;
padding: 1.2rem 1.5rem;
background: rgba(255, 255, 255, 0.85);
backdrop-filter: blur(16px);
border-bottom: 1px solid rgba(148, 163, 184, 0.3);
position: sticky;
top: 0;
z-index: 20;
}

body[data-theme="dark"] .app-header {
background: rgba(15, 23, 42, 0.95);
}

.app-title h1 {
margin: 0;
font-size: 1.4rem;
font-weight: 700;
letter-spacing: 0.04em;
}

.app-title p {
margin: 0.1rem 0 0;
color: var(--color-text-muted);
font-size: 0.9rem;
}

/* Buttons */
.btn {
cursor: pointer;
border-radius: 999px;
border: none;
padding: 0.45rem 0.95rem;
font-size: 0.9rem;
font-weight: 500;
display: inline-flex;
align-items: center;
gap: 0.25rem;
transition: background var(--transition-fast), color var(--transition-fast),
transform var(--transition-fast), box-shadow var(--transition-fast),
border-color var(--transition-fast);
}

.btn-primary {
background: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
color: #ffffff;
box-shadow: var(--shadow-soft);
}

.btn-primary:hover {
transform: translateY(-1px);
box-shadow: 0 16px 30px rgba(37, 99, 235, 0.4);
}

.btn-outline {
background: transparent;
border: 1px solid var(--color-border);
color: var(--color-text-muted);
}

.btn-outline:hover {
border-color: var(--color-primary);
color: var(--color-primary);
background: rgba(37, 99, 235, 0.04);
}

.btn-secondary {
background: var(--color-secondary);
color: #ffffff;
}

.btn-secondary:hover {
filter: brightness(1.05);
}

.btn-danger {
background: var(--color-danger);
color: #ffffff;
}

.btn-danger:hover {
filter: brightness(1.05);
}

.btn-small {
padding: 0.25rem 0.6rem;
font-size: 0.8rem;
}

/* Summary cards */
.summary-grid {
display: grid;
grid-template-columns: repeat(4, minmax(0, 1fr));
gap: 1rem;
margin-top: 1.5rem;
}

.card {
background: radial-gradient(circle at top left, var(--color-primary-soft), var(--color-surface));
border-radius: var(--radius-large);
padding: 1.1rem 1.2rem;
box-shadow: var(--shadow-soft);
border: 1px solid rgba(148, 163, 184, 0.2);
position: relative;
overflow: hidden;
}

.card::after {
content: "";
position: absolute;
inset: auto -40% -40% auto;
width: 120px;
height: 120px;
border-radius: 50%;
background: radial-gradient(circle, rgba(37, 99, 235, 0.16), transparent);
opacity: 0.7;
}

.card h2 {
margin: 0;
font-size: 0.9rem;
text-transform: uppercase;
letter-spacing: 0.07em;
color: var(--color-text-muted);
}

.card-value {
margin: 0.5rem 0 0.15rem;
font-size: 1.6rem;
font-weight: 700;
}

.card-subtitle {
margin: 0;
color: var(--color-text-muted);
font-size: 0.85rem;
}

/* Layout grid: form + filters/chart */
.layout-grid {
display: grid;
grid-template-columns: minmax(0, 1.05fr) minmax(0, 1.1fr);
gap: 1.2rem;
margin-top: 1.5rem;
}

/* Panels */
.panel {
background: rgba(255, 255, 255, 0.96);
border-radius: var(--radius-large);
box-shadow: var(--shadow-soft);
padding: 1.2rem 1.3rem;
border: 1px solid var(--color-border);
}

body[data-theme="dark"] .panel {
background: radial-gradient(circle at top, #020617, #020617);
}

.panel h2 {
margin-top: 0;
font-size: 1rem;
letter-spacing: 0.06em;
text-transform: uppercase;
color: var(--color-text-muted);
}

/* Form styles */
.form-group {
display: flex;
flex-direction: column;
margin-bottom: 0.85rem;
}

.form-group label {
font-size: 0.85rem;
margin-bottom: 0.25rem;
color: var(--color-text-muted);
}

.form-group input,
.form-group select {
border-radius: var(--radius-medium);
border: 1px solid var(--color-border);
padding: 0.45rem 0.65rem;
font-size: 0.9rem;
background: rgba(248, 250, 252, 0.9);
outline: none;
transition: border-color var(--transition-fast),
box-shadow var(--transition-fast), background var(--transition-fast);
color: var(--color-text);
}

body[data-theme="dark"] .form-group input,
body[data-theme="dark"] .form-group select {
background: #020617;
}

.form-group input:focus,
.form-group select:focus {
border-color: var(--color-primary);
box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.25);
background: #ffffff;
}

body[data-theme="dark"] .form-group input:focus,
body[data-theme="dark"] .form-group select:focus {
background: #020617;
}

/* Form actions */
.form-actions {
display: flex;
gap: 0.6rem;
margin-top: 0.3rem;
}

.panel-footer {
margin-top: 1rem;
display: flex;
flex-wrap: wrap;
gap: 0.5rem;
}

/* Filters section */
.filters {
display: grid;
grid-template-columns: repeat(2, minmax(0, 1fr));
gap: 0.7rem 0.9rem;
margin-bottom: 0.8rem;
}

/* Chart container */
.chart-container {
padding: 0.7rem 0.2rem 0.2rem;
}

.chart-header {
display: flex;
align-items: center;
justify-content: space-between;
margin-bottom: 0.3rem;
}

.chart-header h3 {
margin: 0;
font-size: 0.95rem;
}

.chart-toggle {
display: flex;
gap: 0.4rem;
}

/* Table */
.table-wrapper {
margin-top: 0.5rem;
border-radius: var(--radius-large);
border: 1px solid var(--color-border);
overflow: hidden;
}

table {
width: 100%;
border-collapse: collapse;
font-size: 0.9rem;
}

thead {
background: var(--color-primary-soft);
}

thead th {
text-align: left;
padding: 0.55rem 0.75rem;
font-weight: 600;
color: var(--color-text-muted);
letter-spacing: 0.02em;
font-size: 0.8rem;
}

tbody tr:nth-child(even) {
background: rgba(249, 250, 251, 0.9);
}

body[data-theme="dark"] tbody tr:nth-child(even) {
background: #020617;
}

tbody td {
padding: 0.5rem 0.75rem;
border-top: 1px solid var(--color-border);
}

tbody tr:hover {
background: rgba(219, 234, 254, 0.4);
}

body[data-theme="dark"] tbody tr:hover {
background: #020617;
}

/* Action buttons in table */
.table-actions {
display: flex;
gap: 0.3rem;
}

/* Empty state */
.empty-state {
margin: 0.6rem 0;
padding: 0.6rem 0.8rem;
font-size: 0.9rem;
color: var(--color-text-muted);
}

/* Footer */
.app-footer {
text-align: center;
padding: 1.5rem 0 1.8rem;
font-size: 0.85rem;
color: var(--color-text-muted);
}

/* Modal */
.modal {
position: fixed;
inset: 0;
background: rgba(15, 23, 42, 0.4);
display: flex;
align-items: center;
justify-content: center;
z-index: 50;
}

.modal.hidden {
display: none;
}

.modal-content {
width: 90%;
max-width: 380px;
background: var(--color-surface);
border-radius: var(--radius-large);
padding: 1.3rem 1.4rem;
box-shadow: var(--shadow-soft);
border: 1px solid var(--color-border);
}

.modal-content h3 {
margin-top: 0;
margin-bottom: 0.4rem;
}

.modal-content p {
margin-top: 0;
margin-bottom: 0.9rem;
color: var(--color-text-muted);
}

.modal-actions {
display: flex;
justify-content: flex-end;
gap: 0.6rem;
}

/* Responsive layout */
@media (max-width: 900px) {
.summary-grid {
grid-template-columns: repeat(2, minmax(0, 1fr));
}

.layout-grid {
grid-template-columns: minmax(0, 1fr);
}
}

@media (max-width: 600px) {
.app-header {
flex-direction: column;
align-items: flex-start;
gap: 0.6rem;
}

.summary-grid {
grid-template-columns: minmax(0, 1fr);
}

.panel {
padding: 1rem 0.8rem;
}

.filters {
grid-template-columns: minmax(0, 1fr);
}

.form-actions {
flex-direction: column;
align-items: stretch;
}

.panel-footer {
flex-direction: column;
align-items: stretch;
}

.table-wrapper {
border-radius: var(--radius-medium);
}

table {
font-size: 0.8rem;
}
}
